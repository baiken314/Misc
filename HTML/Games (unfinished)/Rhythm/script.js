var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
ctx.webkitImageSmoothingEnabled = false;
ctx.mozImageSmoothingEnabled = false;
ctx.imageSmoothingEnabled = false;

// instantiate songs
var tetris = new Song("resources/sound/tetris.mp3", 149, [0.22846666666666668,1.1373666666666669,1.6390000000000002,2.135666666666667,3.16625,3.6629166666666673,4.204283333333334,5.197616666666667,5.815966666666667,6.270416666666667,7.2240166666666665,7.805116666666667,8.2993,10.000383333333334,10.45235,11.326483333333334,12.272633333333335,13.226233333333333,14.306483333333334,16.869283333333335,17.8651,18.31706666666667,19.225966666666668,19.685383333333334,20.221783333333338,21.83595,22.290400000000005,23.16205,23.695966666666667,24.237333333333336,25.188450000000003,25.600683333333333,26.14205,27.25706666666667,28.12871666666667,29.161783333333336,30.070683333333335,32.223733333333335,33.17485,33.758433333333336,34.2104,35.28568333333333,35.7451,36.24176666666667,37.27235,37.769016666666666,38.228433333333335,39.25901666666667,39.71595000000001,40.25483333333334,41.78705000000001,42.199283333333334,43.1951,44.14373333333334,45.13706666666666,46.1304,48.613733333333336,49.56981666666667,50.064,51.01511666666667,51.5093,52.0904,53.627583333333334,54.15901666666667,55.033150000000006,55.52981666666667,56.06373333333334,57.05955,57.63568333333333,58.13483333333334,59.128166666666665,60.03706666666667,60.99315000000001,61.98400000000001,64.13953333333333,66.0815,68.27676666666667,70.22121666666668,72.20540000000001,74.15233333333333,76.01483333333334,78.00150000000001,80.15455000000001,80.69343333333333,81.27453333333334,81.68428333333334,82.22316666666667,82.6801,83.17676666666667,83.63121666666667,84.1701,84.62455,85.16343333333333,85.6601,86.15925,86.65343333333334,87.18983333333334,87.64925000000001,88.18565000000001,89.00763333333333,90.04815,91.90816666666667,96.00815000000001,97.04121666666667,97.49815000000001,97.99481666666667,99.02788333333335,99.56925,100.01873333333334,101.0965,101.59316666666666,102.05010000000001,103.08565000000002,103.54010000000001,104.0765,105.52925,106.10786666666668,107.0565,108.01258333333334,108.96121666666669,109.91730000000001,112.39815000000002,113.4337,113.93036666666667,114.92121666666668,115.46258333333333,115.91455,117.40455000000001,117.94343333333335,118.93676666666667,119.47565,120.01701666666668,120.96316666666668,121.45983333333334,122.00368333333334,122.91258333333333,123.82148333333333,124.77260000000001,125.7262,127.79481666666668,128.78815,129.32455000000002,129.7839666666667,130.9412,131.44035000000002,131.97426666666667,132.97008333333335,133.50648333333334,133.95845,135.0387,135.49315,136.02955,137.52203333333335,138.01870000000002,138.9276,139.8812,140.87701666666666,141.78591666666668,144.22703333333334,145.3470166666667,145.84368333333333,146.83701666666667,147.37341666666669,147.8676,149.48425,149.98340000000002,150.8923,151.47091666666668,151.92288333333335,152.87648333333334,153.37563333333335,153.86981666666668,154.78368333333336,155.77701666666667,156.68591666666669,157.63455,159.74786666666668,160.74368333333334,161.77675,162.77008333333336,163.80563333333336,164.83870000000002,165.91398333333336,166.87006666666667,167.8634,168.85425000000004,169.88980000000004,170.8409166666667,171.83425,172.83006666666668,173.7787,175.93175000000002,176.3911666666667,176.96730000000002,177.4639666666667,177.96311666666668,178.4548166666667,179.07565000000002,179.48788333333334,180.02925000000002,180.5284,181.06231666666667,181.4348166666667,182.0184,182.55231666666666,183.04898333333335,183.50840000000002,184.00258333333335,184.91645,185.8626,187.85175,191.78286666666668,192.73398333333336,193.31508333333335,193.85645000000002,194.88703333333333,195.3837,195.92506666666668,196.91591666666667,197.28593333333336,197.91173333333333]);
var inkoming = new Song("resources/sound/inkoming.ogg", 175, [1.6566666666666665,1.9483333333333335,2.2866666666666666,3.6487499999999997,4.132916666666667,4.719166666666667,6.661666666666666,7.198333333333333,7.781666666666667,8.169583333333334,9.4325,9.919583333333332,10.357083333333334,11.864999999999998,12.200416666666666,12.885833333333334,14.198333333333334,14.536666666666667,14.9275,15.849166666666667,17.453333333333333,17.9375,18.424583333333334,19.88,20.37,20.8075,22.5575,23.044583333333332,23.531666666666666,24.065416666666664,24.64875,25.52375,25.865000000000002,26.39875,28.002916666666668,28.440416666666664,29.12,37.531666666666666,38.50291666666667,39.380833333333335,40.10708333333333,41.1775,42.24791666666666,43.219166666666666,44.239999999999995,45.21125,46.281666666666666,47.3025,48.32333333333334,49.245,50.26583333333334,51.094166666666666,51.87,52.357083333333335,53.96125,54.49791666666666,55.76083333333333,56.245,57.364999999999995,57.89875,58.919583333333335,59.45333333333333,59.89375,60.4275,61.3025,61.789583333333326,62.32333333333333,63.930416666666666,64.46124999999999,64.94833333333334,65.9225,66.45625,66.84416666666667,68.01083333333334,68.40166666666667,68.83624999999999,69.46916666666667,69.81041666666667,70.14874999999999,71.99791666666667,72.48208333333334,73.01875,75.15666666666667,75.59416666666667,76.1775,76.56833333333333,77.53958333333334,77.93041666666667,78.56041666666667,80.11791666666667,80.5525,80.94333333333333,82.3025,82.69333333333333,83.90666666666667,84.34416666666667,84.88083333333333,85.27166666666666,85.75583333333334,86.28666666666666,87.7975,88.33125,88.865,90.95625,91.39375,91.97708333333334,92.41458333333333,93.485,93.9225,94.45625,94.99,95.96416666666667,96.40166666666667,96.83916666666666,97.37291666666665,98.39375,101.01875,101.55541666666667,101.99000000000001,103.01083333333332,103.5475,104.22708333333333,105.25083333333333,105.63875,106.12291666666665,106.56333333333333,106.99791666666667,108.55541666666667,109.38083333333334,109.72208333333333,110.20624999999998,111.03166666666667,111.47208333333333,111.95916666666668,112.97708333333333,113.41458333333333,113.95125,114.43541666666667,114.9225,117.35208333333333,117.83916666666667,118.37291666666667,118.81333333333332,119.2975,119.88083333333333,121.00083333333332,121.43541666666665,121.97208333333334,122.45625,122.84708333333333,125.32625,125.76375,126.34708333333334,126.88083333333334,127.46416666666666,128.43541666666667,128.97208333333333,129.99291666666667,130.52666666666667,131.35208333333333,133.05541666666667,133.49291666666667,134.02666666666667,134.95125,135.48791666666668,135.82625000000002,136.84708333333333,137.33416666666665,137.76874999999998,138.355,138.74291666666667,139.32625,141.07625,141.56333333333333,142.1,143.11791666666667,143.55541666666667,143.99291666666667,145.06333333333333,145.55041666666665,146.03458333333333,146.47208333333333,146.90958333333333,149.34208333333333,149.9225,150.45916666666665,150.94625,151.43333333333334,151.9175,152.88875,153.37583333333333,153.95916666666668,154.44625000000002,154.88375,157.40958333333333,157.94625,158.48,159.06333333333333,159.69333333333333,160.57125,161.00875000000002,161.98,162.65958333333333,163.58416666666665,164.45916666666668,165.48291666666668,165.91750000000002,166.45125000000002,166.88875000000002,167.42541666666665,167.9125,168.49291666666667,168.93333333333334,169.4175,170.5375,170.975,171.99583333333334,172.67541666666668,173.11291666666668,173.59708333333333,174.03458333333333,174.57125,175.05541666666667,175.58916666666667,176.02958333333333,176.56333333333333,177.00375,177.48791666666668,177.92541666666668,178.4125,178.94625,179.38375,179.87083333333334,180.30833333333334,181.42541666666668,182.00875,182.49583333333334,182.98,183.46708333333333,183.95125000000002,184.39166666666665,184.82916666666665,185.4125,186.52958333333333,187.01666666666668,188.0375,189.00875,190.27166666666668,191.39166666666668,192.51166666666668,193.04250000000002,194.06625000000003,194.50083333333336,195.08708333333334,196.10791666666665,197.56625,198.1,198.68333333333334,199.02166666666668,199.60791666666665,199.9958333333333,200.52958333333333,201.01666666666668,201.50083333333333,202.57125000000002,203.00875,203.98000000000002,204.6158333333333,204.95416666666665,206.07125000000002,206.5583333333333,207.04541666666665,207.57916666666668,208.01666666666665,208.50375,208.93833333333333,209.57416666666666,209.9620833333333,210.44916666666666,210.9333333333333,211.46708333333333,211.90458333333333,212.39458333333332,213.55833333333334,214.0425,214.5325,214.96708333333333,215.50083333333333,215.89166666666665,216.37875,216.81625,217.35291666666666,218.47,218.90458333333333,219.87875,220.55833333333334,220.9958333333333,221.52958333333333,222.30833333333334,224.00875,224.44625000000002,224.98291666666665,227.02458333333334,227.51166666666668,227.99875000000003,228.4333333333333,229.45416666666668,229.94125,230.42833333333334,232.08208333333332,232.56625,233.0533333333333,234.89958333333334,235.38666666666666,235.87083333333334,236.26166666666668,237.32916666666668,237.81625000000003,238.3529166666667,240.00375000000003,240.44125,241.07416666666666,242.97,243.50375,243.94125,244.33208333333334,245.44916666666666,245.98291666666668,246.47,248.02458333333334,248.51166666666666,248.99583333333334,254.44416666666666,256.19125,257.59999999999997,259.10791666666665,260.03249999999997,260.37375,262.26958333333334,264.01958333333334,265.38166666666666,266.84,267.71208333333334,268.20208333333335,270.09499999999997,270.63166666666666,271.79833333333335,272.32916666666665,273.64458333333334,274.03249999999997,275.05333333333334,275.4908333333333,275.97791666666666,276.46208333333334,277.38666666666666,277.87375,278.45708333333334,279.71999999999997,280.1575,280.74083333333334,281.81125,282.29833333333335,282.83208333333334,283.94916666666666,284.48583333333335,284.97291666666666,285.41041666666666,285.99375000000003,286.4283333333333,287.93916666666667,288.51958333333334,289.05625000000003,290.8558333333333,291.29041666666666,291.92041666666665,292.4075,293.38166666666666,293.81916666666666,294.44916666666666,295.85791666666665,296.39458333333334,296.97791666666666,297.94916666666666,298.53249999999997,299.01958333333334,299.99083333333334,300.5275,301.01458333333335,301.54541666666665,301.93625,302.51958333333334,303.97791666666666,304.41541666666666,304.99875,306.69916666666666,307.2358333333333,307.81916666666666,308.30625,309.46999999999997,310.00666666666666,310.54041666666666,311.02750000000003,311.94916666666666,312.38958333333335,312.97291666666666,313.50666666666666,314.47791666666666,316.96,317.54333333333335,318.31916666666666,319.19416666666666,319.5325,320.0225,321.09,321.5770833333333,322.06416666666667,322.5483333333333,322.98583333333335,324.29833333333335,324.9808333333333,325.36875000000003,325.9025,327.01958333333334,327.55625000000003,328.09,329.15749999999997,329.74375000000003,330.08208333333334,330.61875000000003,331.05625,331.97791666666666,333.38958333333335,333.97291666666666,334.41041666666666,334.84791666666666,335.33208333333334,335.81916666666666,336.8895833333333,337.37666666666667,337.8608333333333,338.39750000000004,338.835,340.00166666666667,341.46,341.8975,342.52750000000003,342.86875000000003,343.50166666666667,344.32708333333335,344.86083333333335,345.83208333333334,346.465,347.29333333333335,349.13958333333335,349.62666666666667,350.06416666666667,351.085,351.51958333333334,352.15541666666667,353.0275,353.51458333333335,353.95208333333335,354.3895833333333,354.83000000000004,355.89750000000004,356.91833333333335,357.25958333333335,357.69416666666666,359.05625000000003,359.49375,360.02750000000003,361.05125,361.63458333333335,362.0225,362.50666666666666,362.99375,364.01458333333335,365.1345833333333,365.71791666666667,366.20208333333335,366.73583333333335,367.22291666666666,367.80625000000003,368.92625,369.4629166666667,370.04333333333335,370.53041666666667,370.96791666666667,372.0383333333333,373.4441666666667,374.0275,374.56416666666667,374.95208333333335,375.53541666666666,376.50958333333335,376.99666666666667,377.87166666666667,378.50166666666667,379.52250000000004,380.54333333333335,381.51750000000004,381.9025,382.3895833333333,382.8270833333333,383.36375,383.94708333333335,384.53041666666667,385.0670833333333,385.55125,386.5720833333333,387.0095833333333,387.93125,388.46791666666667,389.0016666666667,389.53833333333336,390.1683333333333,390.60875,391.1395833333333,391.58,392.1604166666667,392.69708333333335,393.23083333333335,393.71791666666667,394.30125,394.73875,395.3220833333333,395.71,396.19708333333335,396.68125,397.65541666666667,398.1425,398.7258333333333,399.1633333333333,399.6970833333333,400.0879166666667,400.57208333333335,401.05916666666667,401.44708333333335,402.5145833333333,403.05125,404.0225,404.55625000000003,404.99375,405.5304166666666,406.0175,406.55125000000004,406.98875,407.57208333333335,408.00958333333335,408.54333333333335,408.9341666666666,410.00166666666667,410.5879166666667,410.97583333333336,412.0433333333333,413.5541666666666,414.08500000000004,414.62166666666667,415.0095833333333,415.59291666666667,415.98083333333335,416.56416666666667,416.90541666666667,417.34291666666667,418.55916666666667,419.0958333333333,420.0670833333333,420.69708333333335,421.13458333333335,421.62166666666667,422.2079166666667,422.73875,423.2258333333333,423.80916666666667,424.29625000000004,424.87958333333336,425.31708333333336,425.8975,426.3379166666667,426.87166666666667,427.30916666666667,427.79625,428.1375,428.6216666666666,429.69208333333336,430.17625,430.6166666666666,431.10083333333336,431.5383333333333,431.9758333333333,432.5095833333333,432.9470833333333,433.43416666666667,434.455,434.98875000000004,436.05916666666667,436.5958333333333,437.08,437.42125000000004,437.85875,438.4916666666667,440.23875,440.7258333333333,441.16333333333336,443.05916666666667,443.59583333333336,444.08,444.42125,445.4916666666667,445.97583333333336,446.50958333333335,448.1166666666666,448.5045833333333,449.04125,450.8875,451.37166666666667,451.9579166666666,452.4420833333333,453.50958333333335,453.99958333333336,454.48375000000004,455.9916666666667,456.5254166666667,457.0125,458.90541666666667,459.4420833333333,459.9291666666667,460.3666666666667,461.3875,461.4341666666666,461.9241666666666,462.01750000000004,462.4083333333333,462.5541666666667,463.7675,463.8170833333333,464.3508333333333,464.45000000000005,464.88749999999993,464.93416666666667,470.5254166666667,472.1325,473.54125,474.85374999999993,475.92125,476.35875000000004,478.25458333333336,479.95500000000004,481.5154166666667,483.07,483.9916666666667,484.47875,486.2258333333333,486.91125,488.075,488.51250000000005,489.825,490.3120833333333]);
var megalovania = new Song("resources/sound/megalovania.mp3", 120, [0.26,0.56,1.226,2.16,2.66,3.192,3.76,3.992,4.226,4.492,4.726,5.026,5.594,6.326,6.826,7.392,7.892,8.128,8.358,8.592,8.86,9.16,9.66,10.292,10.86,11.392,11.96,12.16,12.426,12.66,12.894,13.126,13.66,14.326,14.894,15.426,15.892,16.158,16.428,16.66,16.926,17.158,17.692,18.326,18.892,19.392,19.892,20.16,20.326,20.56,20.792,21.06,21.594,22.26,22.86,23.36,23.858,24.058,24.292,24.56,24.792,24.994,25.726,26.294,26.828,27.326,27.76,28.026,28.228,28.458,28.726,28.994,29.66,30.294,30.792,31.26,31.828,32.162,32.46,32.594,32.86,33.16,33.694,34.226,34.86,35.36,35.928,36.128,36.394,36.626,36.96,37.194,37.692,38.194,38.692,39.128,39.594,39.994,40.228,40.526,40.726,40.994,41.194,41.728,42.194,42.626,43.094,43.626,43.994,44.294,44.528,44.76,44.96,45.226,45.628,46.062,46.528,46.994,47.428,47.96,48.16,48.36,48.628,48.828,49.028,49.494,50.128,50.46,50.86,51.328,51.794,52.126,52.328,52.562,52.862,53.126,53.628,54.16,54.462,54.962,55.462,55.994,56.628,56.928,57.128,57.494,58.096,58.494,58.928,59.362,59.794,60.094,60.328,60.528,61.026,61.326,61.794,62.228,62.46,62.93,63.328,63.994,64.196,64.496,64.86,65.294,65.46,65.962,66.428,66.962,67.428,68.594,69.128,69.362,69.794,70.23,70.796,71.028,71.328,71.594,71.862,72.528,73.03,73.328,73.762,74.162,74.63,75.262,75.762,76.56,76.962,77.562,77.762,77.996,78.294,79.262,79.296,80.428,80.924,81.162,81.73,82.294,82.928,83.428,84.494,85.062,85.562,85.93,86.362,86.93,87.362,87.862,88.096,88.594,89.13,89.628,90.196,90.63,91.128,91.628,92.228,92.762,93.262,93.662,93.828,94.296,96.396,98.562,98.994,99.528,99.696,99.996,100.162,100.63,100.796,100.996,101.33,101.696,103.728,104.33,104.562,105.03,105.528,105.796,105.996,106.296,106.53,107.062,107.63,108.13,108.63,109.162,109.662,109.93,110.196,110.396,112.596,113.096,113.662,114.096,114.63,115.596,116.596,117.63,118.696,119.53,120.464,122.462,122.764,123.062,123.364,123.662,123.964,124.264,124.53,125.464,126.598,126.63,127.764,128.53,129.496,130.596,130.932,131.232,131.43,131.664,131.864,132.196,132.364,132.698,132.796,133.03,133.096,133.53,133.63,135.73,136.296,136.498,137.064,137.398,137.63,137.864,138.13,138.398,138.632,139.064,139.598,140.064,140.598,141.064,141.63,141.83,142.13,142.43,144.564,145.098,145.63,146.098,146.598,147.564,148.664,149.63,150.596,151.498,152.398,154.532,154.83,155.064,155.264,155.564,155.73,156.03,156.198,156.498,157.598,158.498,159.532,160.164,160.666,162.564,163.598,164.598,165.632,166.564,167.564,168.598,169.532,170.498,171.564,172.498,178.566,179.498,180.464,181.5,182.566,183.566,184.6,185.532,186.466,187.466,188.466,192.6,192.732,193.066,193.432,194.366,194.898,195.432,195.966,196.234,196.466,196.766,196.966,197.532,198.334,198.866,199.332,199.966,200.166,200.466,200.698,200.966,201.3,201.9,202.7,203.266,203.832,204.1,204.366,204.668,204.932,205.166,205.7,206.432,206.9,207.434,207.966,208.2,208.466,208.698,208.932,209.398,210.298,210.864,211.3,211.934,212.134,212.4,212.6,212.866,213.034,213.634,214.366,214.9,215.4,215.934,216.168,216.434,216.7,217,217.232,217.766,218.402,218.934,219.4,219.968,220.234,220.434,221.1,221.632,222.4,222.902,223.434,224.066,224.634,225.2,225.666,226.234,226.7,227.234,227.768,228.234,228.734,229.2,229.734,230.232,230.734,231.234,231.734,232.268,232.734,233.234,233.666,234.202,234.602,235.168,235.634,236.134,236.6,237.134,237.568,238.102,238.568,239.068,239.534,240.034,240.566,241.068,241.568,242.1,242.566,243.1,243.602,244.1,244.566,245.1,245.6,246.068,246.568,247.1,247.6,248.102,248.568,249.102,249.568,250.136,250.602,251.134,251.604,252.102,252.6,253.134,253.6,254.1,254.568,255.1,255.568,256.068,256.634,257.168,257.668,258.168,258.702,259.202,259.668,260.17,260.668,261.2,261.668,262.268,262.702,263.202,263.668,264.202,264.668,265.17,265.668,266.17,266.668,267.17,267.668,268.202,268.668,269.202,269.634,270.102,270.602,271.136,271.602,272.134,272.636,273.402,274.036,274.568,275.068,275.57,276.102,276.634,277.136,277.602,278.068,278.57,279.068,279.602,280.102,280.602,281.136,281.636,282.136,282.57,283.07,283.602,284.136,284.602,285.136,285.636,286.07,286.57,287.002,287.536,287.936,288.468,288.836,289.104,289.668,290.336,290.904,291.402,291.938,292.17,292.404,292.736,293.002,293.236,293.77,294.37,294.902,295.404,295.904,296.136,296.402,296.67,296.87,297.17,297.704,298.336,298.904,299.402,299.868,300.102,300.37,300.636,300.87,301.17,301.702,302.37,302.87,303.404,303.87,304.136,304.37,304.67,304.902,305.236,305.736,306.336,306.902,307.404,307.87,308.104,308.37,308.67,308.868,309.204,309.704,310.37,310.838,311.336,311.802,312.07,312.304,312.604,312.804,313.136,313.67,314.37,314.87,315.402,315.906,316.17,316.436,316.738,316.97,317.236,317.804,318.404,319.002,319.472,320.004,320.27,320.504,320.804,321.036,321.336,321.804,322.436,323.004,323.504,323.938,324.27,324.472,324.77,324.97,325.304,325.804,326.404,326.972,327.438,327.904,328.204,328.472,328.736,329.004,329.304,329.836,330.47,331.002,331.47,331.97,332.206,332.438,332.772,332.97,333.27,333.736,334.47,334.97,335.404,335.904,336.17,336.404,336.704,336.936,337.238,337.77,338.472,338.904,339.438,339.904,340.138,340.404,340.704,340.904,341.204,341.738,342.404,342.872,343.404,343.904,344.204,344.47,344.706,345.006,345.27,345.772,346.438,346.938,347.472,347.938,348.238,348.506,348.806,349.072,349.404,350.206,350.804,351.338,351.872,352.104,352.37,352.606,352.906,353.27,353.838,354.406,355.004,355.438,356.006,356.204,356.47,356.738,357.038,357.372,357.874,358.44,359.004,359.472,360.038,360.872,361.336,361.838,362.372,363.006,363.474,364.038,364.272,364.472,364.74,365.004,365.272,365.772,366.472,366.972,367.474,368.07,368.64,368.972,369.172,369.44,369.904,370.538,371.038,371.472,371.972,372.538,372.772,373.004,373.338,373.84,374.372,374.872,375.372,375.904,376.24,376.538,376.806,377.072,377.438]);
var s1273 = new Song("resources/sound/1273.mp3", 162.5, [0, 1.25, 1.75, 2.25, 3.25, 3.75, 4.25, 5.5, 5.75, 6.5, 7.5, 7.75, 8.25, 9.75, 10.25, 11.5, 12.5, 13.5, 14.5, 15.5, 15.5, 16.5, 17.5, 18, 18.5, 19.5, 20.5, 21.5, 22.5, 22.75, 23.5, 23.75, 28.25, 29.25, 30.25, 31.5, 32, 36.5, 37.5, 38.5, 39.5, 39.75, 40.75, 44.25, 44.75, 45.25, 46.5, 47, 47.5, 48, 52.5, 53.5, 54.5, 55, 55.5, 56, 57, 59.5, 60.25, 60.75, 61.5, 62, 62.5, 63, 63.5, 64, 67.5, 68.5, 69.5, 70.5, 71, 71.5, 72, 73, 77.25, 77.75, 78.25, 78.75, 79.25, 79.75, 80.25, 81.25, 85.25, 85.75, 86.5, 87, 87.5, 89.25, 93.25, 93.75, 94.5, 94.75, 95.25, 95.75, 96.5, 97.25, 101.25, 102, 102.5, 102.75, 103.5, 104, 104.25, 105.25, 109.49249999999999, 109.94749999999999, 110.48916666666666, 110.93875, 111.38833333333332, 112.29291666666667, 113.286875, 114.32416666666667, 114.81979166666667, 115.27208333333333, 116.40145833333332, 117.30333333333333, 118.38666666666667, 118.83895833333332, 119.37791666666666, 120.46395833333332, 121.36583333333331, 122.44916666666667, 122.94479166666667, 123.48645833333332, 124.52645833333332, 125.38229166666666, 126.514375, 127.46229166666667, 128.49958333333333, 129.44479166666667, 130.53083333333333, 130.934375, 131.47875, 132.42395833333333, 133.41791666666666, 134.36583333333334, 134.86416666666665, 135.31375, 136.39708333333334, 137.434375, 138.47437499999998, 139.108125, 139.73645833333333, 140.28083333333333, 144.52208333333334, 145.47, 146.51, 147.411875, 148.40583333333333, 149.443125, 150.43708333333333, 151.474375, 152.46833333333333, 153.4595833333333, 154.49958333333333, 155.4908333333333, 156.48749999999998, 157.38666666666666, 158.47270833333332, 159.46666666666667, 160.45791666666668, 164.38229166666665, 165.33291666666665, 166.32687499999997, 166.8225, 167.45354166666667, 167.85979166666667, 172.371875, 173.3225, 174.45187499999997, 174.99354166666666, 175.58124999999998, 176.16625000000002, 180.41020833333332, 181.35812499999997, 182.34937499999998, 182.89374999999998, 183.43270833333332, 183.885, 184.92499999999998, 189.2583333333333, 189.75395833333332, 190.34166666666667, 190.74520833333332, 191.33291666666665, 191.920625, 192.46229166666666, 193.41020833333332, 197.42666666666665, 197.96833333333333, 198.51000000000002, 198.87020833333332, 199.411875, 200.4058333333333, 201.39979166666666, 205.4189583333333, 205.87124999999997, 206.41020833333332, 206.77041666666668, 207.40416666666664, 208.39541666666665, 209.43541666666664, 213.40583333333333, 213.90416666666667, 214.491875, 214.94416666666666, 215.52916666666664, 216.43104166666666, 217.42499999999998, 221.44145833333334, 221.98312499999997, 222.43541666666664, 223.24791666666667, 224.28791666666663, 225.27916666666667, 226.31916666666663, 226.76875, 227.26708333333332, 228.43708333333333, 228.84604166666665, 229.43104166666663, 229.84, 230.37895833333332, 230.83125, 231.32958333333332, 232.36958333333334, 232.8652083333333, 233.35812499999997, 233.8564583333333, 234.30874999999997, 235.031875, 235.66291666666663, 236.33729166666666, 237.37729166666668, 238.46062499999996, 239.40854166666668, 240.44583333333333, 241.34770833333332, 242.3877083333333, 242.88604166666664, 243.37895833333332, 244.37291666666667, 245.36687499999996, 246.35812499999997, 246.85645833333334, 247.35208333333333, 248.39208333333332, 248.97708333333333, 249.47541666666666, 249.92499999999998, 250.42333333333332, 251.054375, 251.82354166666664, 252.40854166666665, 256.83124999999995, 257.2402083333333, 257.8279166666666, 258.95458333333335, 259.4502083333333, 259.94854166666664, 260.9397916666666, 261.34875, 261.8877083333333, 262.9277083333333, 263.3339583333333, 263.8729166666667, 264.460625, 264.9589583333333, 265.41125, 265.9502083333333, 266.4025, 267.35041666666666, 268.43375, 268.929375, 269.38166666666666, 269.96937499999996, 270.465, 271.3695833333333, 272.991875, 273.4414583333333, 274.0291666666667, 275.1152083333333, 275.5214583333333, 276.01708333333335, 276.9216666666667, 277.41729166666664, 277.91291666666666, 278.90687499999996, 279.4025, 279.9008333333333, 280.35041666666666, 280.8460416666667, 281.34437499999996, 281.88604166666664, 282.38166666666666, 282.9233333333333, 283.37562499999996, 284.5022916666666, 285.4529166666666, 286.44416666666666, 287.4841666666666, 288.5214583333333, 289.46937499999996, 290.50666666666666, 291.45458333333335, 292.44854166666664, 293.4425, 294.43375, 295.43041666666664, 296.37562499999996, 297.4589583333333, 298.4529166666666, 299.4902083333333, 300.4841666666666, 301.4320833333333, 302.3772916666667, 303.3279166666667, 304.41125, 305.3591666666667, 306.4425, 307.3904166666667, 308.47375, 309.51104166666664, 310.59437499999996, 311.54229166666664, 312.53625, 313.3514583333333, 314.4320833333333, 315.42604166666666, 316.55541666666664, 317.50062499999996, 318.540625, 320.3904166666667, 321.29229166666664, 322.3295833333333, 322.8279166666666, 323.32354166666664, 324.4529166666667, 324.90520833333335, 325.3114583333333, 325.853125, 326.30541666666664, 326.79833333333335, 327.3427083333333, 328.5154166666667, 328.96770833333335, 329.509375, 329.8695833333333, 330.41125, 331.134375, 331.7654166666667, 332.3964583333333, 333.393125, 334.384375, 335.375625, 336.32624999999996, 337.36354166666666, 338.35749999999996, 338.76104166666664, 339.259375, 340.38604166666664, 340.93041666666664, 341.3339583333333, 341.78624999999994, 342.28458333333333, 342.7802083333333, 343.2785416666666, 344.3591666666666, 344.85749999999996, 345.3070833333333, 345.8027083333333, 346.3010416666666, 346.9347916666666, 347.65791666666667, 348.33229166666666, 349.3722916666666, 350.36354166666666, 351.2654166666667, 352.17, 353.2072916666666, 354.290625, 354.74020833333327, 355.24125, 356.36791666666664, 356.8635416666666, 357.3158333333333, 357.81145833333335, 358.3070833333333, 358.80541666666664, 359.3470833333333, 360.43041666666664, 360.9260416666666, 361.47041666666667, 361.92, 362.46166666666664, 363.13874999999996, 363.7264583333333, 364.3141666666666, 365.30541666666664, 366.38875, 367.0197916666666, 367.42875, 367.835, 368.28729166666665, 369.321875, 370.4052083333333, 370.9035416666667, 371.353125, 372.4825, 372.9320833333333, 373.38708333333335, 373.8366666666667, 374.33229166666666, 374.73854166666666, 375.19083333333333, 376.36354166666666, 376.81583333333333, 377.31416666666667, 377.8097916666666, 378.35145833333337, 379.0285416666667, 379.7029166666667, 380.33937499999996]);
var stop = new Song("resources/sound/stop.mp3", 155, [3.846583333333333, 4.62158333333333, 5.39, 7.20233333333333, 8.19433333333333, 9.14241666666666, 11.25, 12.19850000000000, 13.100083333333332, 15.171916666666668, 16.20266666666667, 17.14816666666667, 18.1815, 19.1735, 20.206833333333336, 21.24275, 22.273500000000002, 23.306833333333334, 24.252333333333333, 25.20041666666667, 26.192416666666666, 27.181833333333334, 28.17125, 29.119333333333334, 30.196583333333333, 31.059416666666667, 33.1235, 34.1155, 35.10491666666667, 35.53633333333333, 36.09433333333333, 36.481833333333334, 36.9985, 38.03441666666667, 39.06775, 39.581833333333336, 40.101083333333335, 40.486000000000004, 41.00525, 41.95333333333333, 43.02541666666667, 43.50075, 44.06133333333334, 44.534083333333335, 45.136, 46.08408333333333, 47.16133333333334, 47.548833333333334, 48.15075, 48.538250000000005, 49.09883333333334, 50.044333333333334, 51.12416666666667, 51.509083333333336, 52.11358333333333, 52.545, 53.144333333333336, 54.05108333333333, 55.12833333333334, 55.601083333333335, 56.16166666666666, 56.54916666666667, 57.10716666666667, 57.970000000000006, 59.04466666666667, 59.47866666666667, 60.08058333333334, 60.46808333333333, 61.02608333333334, 62.100750000000005, 63.048833333333334, 64.04083333333334, 65.07416666666667, 66.01966666666667, 67.09691666666667, 67.56966666666666, 68.13025, 68.64691666666667, 69.20491666666668, 70.15558333333334, 71.18633333333334, 71.61775, 72.26358333333333, 72.65108333333333, 73.21166666666667, 74.15716666666667, 75.19308333333333, 75.66325, 76.26516666666666, 76.65525, 77.21583333333334, 78.03216666666667, 79.23858333333334, 79.67, 80.18408333333333, 80.53025, 81.17608333333334, 82.20941666666667, 83.1575, 83.58891666666666, 84.1495, 84.53441666666667, 85.095, 86.08441666666667, 87.07641666666667, 87.59308333333333, 88.15366666666668, 88.53858333333335, 89.14308333333334, 90.13250000000001, 91.16583333333334, 91.59725, 92.15783333333333, 92.58666666666667, 93.14725000000001, 94.13666666666667, 94.69725, 95.12608333333334, 95.51358333333333, 95.94500000000001, 96.50558333333333, 96.97833333333334, 98.09949999999999, 99.13283333333334, 99.73475, 100.2075, 100.68283333333332, 101.07033333333334, 102.10366666666667, 103.137, 103.60716666666667, 104.04116666666667, 104.59916666666668, 105.15975, 106.14916666666667, 107.13858333333333, 107.69916666666667, 108.13058333333333, 108.68858333333334, 109.20525, 110.11200000000001, 111.10141666666667, 111.61550000000001, 112.00300000000001, 112.56358333333334, 113.12416666666667, 114.07225, 115.10816666666668, 115.58091666666667, 116.05108333333334, 116.56775, 117.12833333333334, 118.07641666666667, 119.10975, 119.62641666666667, 120.05783333333333, 120.61841666666668, 121.13250000000001, 122.08316666666667, 123.11391666666665, 124.14725000000001, 125.13666666666667, 126.2165, 127.07416666666667, 128.15141666666668, 129.05558333333335, 129.14083333333335, 130.00366666666667, 130.262, 130.73475, 130.94916666666666, 131.68283333333332, 131.94116666666667, 132.76008333333334, 132.93058333333335, 133.83733333333333, 134.00783333333334, 134.78283333333334, 134.99983333333336, 135.73091666666667, 135.98666666666668, 136.97608333333335, 137.23700000000002, 137.9706666666667, 138.18508333333332, 138.96008333333333, 139.17450000000002, 139.9081666666667, 140.12258333333332, 140.76841666666667, 141.07066666666665, 142.01616666666666, 142.23316666666668, 143.13733333333334, 143.31041666666667, 144.12675, 144.29725, 145.28925, 145.41583333333332, 146.19341666666668, 146.32258333333334, 147.22675, 147.39725, 148.17483333333334, 148.34533333333334, 149.16683333333333, 149.38125000000002, 150.19758333333334, 150.37066666666666, 151.23350000000002, 151.404, 152.179, 152.3495, 153.21233333333333, 153.42933333333335, 154.15783333333334, 154.33091666666667, 155.10850000000002, 155.32291666666666, 156.09533333333334, 156.26841666666667, 157.04341666666667, 157.17258333333334, 157.9915, 158.20591666666667, 159.06616666666667, 159.23925, 160.10208333333335, 160.31391666666667, 161.262, 161.3085, 162.21008333333333, 162.42708333333334, 162.98508333333334, 163.28733333333332, 163.93316666666666, 164.36458333333334, 164.88125000000002, 165.31008333333332, 165.7415, 166.21425, 166.77483333333336, 167.16233333333332, 167.76425, 168.19566666666668, 168.66841666666667, 169.1411666666667, 169.70175, 170.17708333333334, 170.73508333333334, 171.16649999999998, 171.72708333333333, 172.15591666666668, 172.67516666666666, 173.14533333333335, 173.62066666666666, 174.13733333333334, 174.7831666666667, 175.12675, 175.5995, 176.03091666666668, 177.1495, 177.1495, 178.09758333333335, 179.1335, 179.21875, 180.16425, 180.16425, 181.20016666666666, 181.20016666666666, 182.18958333333336, 182.27483333333336, 183.179, 183.179, 184.16841666666667, 184.16841666666667, 185.20433333333332, 185.20433333333332, 186.19375000000002, 186.19375000000002, 187.2245, 187.2245, 188.21908333333332, 188.21908333333332, 189.24983333333333, 189.24983333333333, 190.19791666666669, 190.19791666666669, 191.18733333333333, 191.23125000000002, 192.2206666666667, 192.2206666666667, 193.25400000000002, 194.1581666666667, 195.15016666666668, 195.62291666666667, 196.2661666666667, 196.70016666666666, 197.25816666666668, 198.07708333333332, 198.679, 199.11041666666668, 199.62708333333336, 199.97325, 200.57516666666666, 201.00400000000002]);
var shellfie = new Song("resources/sound/shellfie.mp3", 100, []);

var laneManager = new LaneManager(s1273, 300);
laneManager.init();

//var n1 = new HoldNote(new Note(laneManager, laneManager.lanes[0], 5), 5);
//laneManager.lanes[0].holdNotes.push(n1);

console.log(laneManager);

/***************
* MAIN FUNCTION
****************/
function main() {

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    laneManager.update();
    laneManager.draw();

    // debug
    ctx.font = "12px Monospace";
    ctx.fillStyle = "#fff";
    ctx.textAlign = "left";
    ctx.fillText("Song pos: " + laneManager.songManager.songPosition, 10, 20);
    ctx.fillText("Song pos beats: " + laneManager.songManager.songPositionInBeats, 10, 40);
    ctx.fillText("Sec per beat: " + laneManager.songManager.secondsPerBeat, 10, 60);
    ctx.fillText("Time start: " + laneManager.songManager.timeStart, 10, 80);
    ctx.fillText("Keys pressed: " + laneManager.keyCodes, 10, 100);
    ctx.fillText("Score: " + laneManager.score, 10, 120);

    requestAnimationFrame(main);

}

main();

/****************
* CONTROL INPUTS
*****************/
document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);

function keyDownHandler(e) {
    if (!laneManager.keyCodes.includes(e.keyCode)) {
        laneManager.keyCodes.push(e.keyCode);
    }
}

function keyUpHandler(e) {
    laneManager.keyCodes.splice(laneManager.keyCodes.indexOf(e.keyCode), 1);
}